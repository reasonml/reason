<!doctype html>
<html>
<head>
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>JavaScript Workflow</title>

  <!-- Flatdoc -->
  <script src='support/vendor/jquery.js'></script>
  <script src='legacy.js'></script>
  <script src="highlightJs/build/highlight.pack.js"></script>
  <link  href='highlightJs/src/styles/xcode.css' rel='stylesheet'>
  <script src='flatdoc.js'></script>

  <!-- Flatdoc theme -->
  <link  href='theme-white/style.css' rel='stylesheet'>
  <script src='theme-white/script.js'></script>
  <link  href='support/theme.css' rel='stylesheet'>
  <script src='support/theme.js'></script>



  <script id="markdown" type="text/markdown" src="javaScriptCompared.html">

JavaScript Workflow
===========

Compiling to JavaScript.

Context
-------

[BuckleScript](https://bloomberg.github.io/bucklescript/Manual.html) is an OCaml-to-JS compiler. Since Reason is just another syntax for OCaml, we happen to work with BuckleScript too. We use the same standard library as OCaml, [documented here](http://caml.inria.fr/pub/docs/manual-ocaml/libref/).

For JS workflow, we support [npm](https://www.npmjs.com) (>=3.0) and [yarn](https://yarnpkg.com/en/).

Project Setup
-------

We've strived to make our JS tooling and compilation workflow as simple as possible:

```sh
# new folder setup, add package.json, install BuckleScript
mkdir -p test/src && cd test
echo 'print_endline "hello!";' > src/test.re
npm init -y
npm install --save-dev bs-platform

# basic BuckleScript build config, start it in watch mode
echo '{"name": "test", "sources": "src"}' > bsconfig.json
./node_modules/.bin/bsb -w
```

More info on bsb & bsconfig [here](http://bloomberg.github.io/bucklescript/Manual.html#_bucklescript_build_system_code_bsb_code).

That's all! **BuckleScript has first-class support for Reason, which is why you don't see any mention of "Reason" in the above step**.


Editor Setup & Global Utilities
-------

See our [tooling](./tools.html) section for a descriptions of what you need to install and which editors we support.

Our [editor integration](./tools.html#editor-integration) need a few binaries to be found in your `$PATH`:

- `refmt`: the Reason parser/printer (editor formatter).
- `ocamlmerlin-reason`: Reason bridge to [Merlin](./tools.html#tools-command-line-utilities-merlin).
- `ocamlmerlin`: the Merlin binary.

The tooling section explains what these binaries do.

They can be installed globally through:

```sh
npm install -g git://github.com/reasonml/reason-cli.git
# test that you have them installed correctly
which ocamlmerlin refmt ocamlmerlin-reason
```

**Note**: the global toolchain `reason-cli` currently doesn't work on Windows.

**Note**: please verify that your installed OCaml version is `4.02.x` and that Merlin is `>=2.5.1`. The above installation does that automatically, but people sometimes install our toolchain through other ways (e.g. native workflow, with looser version constraints).

```sh
ocamlc -version
ocamlmerlin -version
```

Use Existing JS Libraries
-------
**Looking for Reason-React bindings**? [Here you go](https://github.com/reasonml/reason-react)!

Redux implementation in Reason is at [Reductive](https://github.com/reasonml/reductive).

We host Reason/OCaml bindings to existing JavaScript libraries at [BuckleTypes](https://github.com/buckletypes).

The [BuckleScript manual](http://bloomberg.github.io/bucklescript/Manual.html) is all you need for calling JS from within BuckleScript. Here are some highlights:

- [Runtime representation](http://bloomberg.github.io/bucklescript/Manual.html#_runtime_representation)
- [Binding to simple JS functions values](http://bloomberg.github.io/bucklescript/Manual.html#_binding_to_simple_js_functions_values)
- [Create JS objects using `bs.obj`](http://bloomberg.github.io/bucklescript/Manual.html#_create_js_objects_using_bs_obj)

Convert JS to Reason
-------

See [Conversion](./jsConversion.html).


  </script>
  <!-- Initializer -->
  <script>
    Flatdoc.run({
      fetcher: function(callback) {
        callback(null, document.getElementById('markdown').innerHTML);
      },
      highlight: function (code, value) {
        return (value === 'reason') ? hljs.highlight('reason', code).value : hljs.highlight(value, code).value;
      },
    });
  </script>

  <!-- Meta -->
  <meta property="og:image" content="./images/CubeRed598_614.png" />
  <meta property="og:image:secure_url" content="./images/CubeRed598_614.png" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1196" />
  <meta property="og:image:height" content="1228" />

  <meta content="Reason: Rapid Expressive Systems Programming." name="description">
  <meta content="Reason: Rapid Expressive Systems Programming." property="og:description">
  <!-- <meta content="http://ricostacruz.com/flatdoc/support/preview.jpg" property="og:image"> -->
</head>
<body role='flatdoc' class='big-h3 large-brief'>

  <!-- <div class='title&#45;area title&#45;card' style='background&#45;image: url(support/blur.jpg)'> -->

  <div class='header'>
    <div class='left'>
      <h1><a href='index.html'>Reason</a></h1>
      <ul>
        <li><a href='jsWorkflow.html'>JS Workflow</a></li>
        <li><a href='nativeWorkflow.html'>Native Workflow</a></li>
        <li><a href='https://github.com/facebook/reason'>GitHub</a></li>
      </ul>
    </div>
  </div>

  <div class='content-root'>
    <div class='menubar'>
      <div class='menu section' role='flatdoc-menu'></div>
    </div>
    <div role='flatdoc-content' class='content'></div>
  </div>

</body>
</html>
